proc(main)
  let n = 123 in
  let a = new ( proc(self)
                letrec f(msg) = 
                    let (cmd, from) = msg in
                    print(-(cmd, n))
                in ready(f) )
  in begin
        send(a, (456, main));
        ready(proc(d)d)
     end